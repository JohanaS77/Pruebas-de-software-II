<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Juego: Adivina el n√∫mero (0-9)</title>
  <style>
    :root { font-family: system-ui, Arial, sans-serif; }
    body { display:grid; place-items:center; min-height:100vh; background:#f6f7fb; margin:0; }
    .card { background:#fff; padding:24px; border-radius:16px; box-shadow:0 10px 30px rgba(0,0,0,.08); width:min(420px, 92vw); }
    h1 { margin:0 0 12px; font-size:1.25rem; }
    p { margin:6px 0 16px; color:#555; }
    form { display:flex; gap:10px; align-items:center; }
    input[type="text"]{
      width:72px; text-align:center; font-size:1.25rem; padding:10px 12px;
      border:2px solid #d9dbe3; border-radius:12px; outline:none;
    }
    input[type="text"]:focus{ border-color:#6c82ff; }
    button{
      padding:10px 14px; border:none; border-radius:12px; cursor:pointer; font-weight:600;
    }
    .primary{ background:#6c82ff; color:#fff; }
    .ghost{ background:#eef0ff; color:#2d3a8c; }
    .msg{ margin-top:14px; padding:12px; border-radius:12px; background:#f1f2f6; }
    .ok { background:#e8ffe8; }
    .bad{ background:#ffeaea; }
    .hint{ font-size:.9rem; color:#777; margin-top:6px; }
    .sr-only{ position:absolute; left:-9999px; }
  </style>
</head>
<body>
  <main class="card">
    <h1>Adivina el n√∫mero (0‚Äì9)</h1>
    <p>El sistema ya eligi√≥ un n√∫mero entre 0 y 9. Escribe un solo d√≠gito y presiona <em>Probar</em>.</p>

    <form id="form" novalidate>
      <label class="sr-only" for="guess">Tu n√∫mero</label>
      <input
        id="guess"
        type="text"
        inputmode="numeric"
        autocomplete="off"
        maxlength="2"
        placeholder="0‚Äì9"
        aria-describedby="hint"
      />
      <button type="submit" class="primary">Probar</button>
      <button type="button" id="new" class="ghost" title="Generar nuevo n√∫mero">Nuevo</button>
    </form>

    <div id="message" class="msg" style="display:none;"></div>
    <div id="hint" class="hint">Solo se permite un d√≠gito (0‚Äì9). No letras ni n√∫meros con m√°s de un d√≠gito.</div>
  </main>

  <script>
    (() => {
      const $form = document.getElementById('form');
      const $input = document.getElementById('guess');
      const $msg = document.getElementById('message');
      const $new = document.getElementById('new');

      let secret = makeSecret();

      function makeSecret() { return Math.floor(Math.random() * 10); }

      function showMessage(text, type = '') {
        $msg.textContent = text;
        $msg.className = `msg ${type}`;
        $msg.style.display = 'block';
      }

      $form.addEventListener('submit', (e) => {
        e.preventDefault();
        const val = $input.value.trim();

        // Validaciones seg√∫n el diagrama
        if (val === "") {
          showMessage("Debes ingresar un valor.", "bad");
          return;
        }

        if (!/^\d+$/.test(val)) { 
          showMessage("Solo puedes ingresar un n√∫mero.", "bad");
          return;
        }

        if (val.length > 1) {
          showMessage("Solo puedes ingresar un solo d√≠gito.", "bad");
          return;
        }

        const guess = Number(val);

        if (guess === secret) {
          showMessage("¬°Felicitaciones! üéâ", "ok");
        } else {
          // Seg√∫n el diagrama, mostrar mensaje de error y dar pista
          let pista = guess < secret 
                      ? "El n√∫mero secreto es mayor." 
                      : "El n√∫mero secreto es menor.";
          showMessage(`Error, ¬ødeseas una pista? ${pista} No te rindas.`, "bad");
        }

        $input.focus();
        $input.select();
      });

      $new.addEventListener('click', () => {
        secret = makeSecret();
        $input.value = '';
        $msg.style.display = 'none';
        $input.focus();
      });

      window.addEventListener('DOMContentLoaded', () => $input.focus());
    })();
  </script>
</body>
</html>
